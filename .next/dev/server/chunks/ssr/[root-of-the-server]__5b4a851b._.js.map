{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 106, "column": 0}, "map": {"version":3,"sources":["file:///Users/mac/Desktop/%D1%88%D0%BA%D0%BE%D0%BB%D0%B0%20GoIt/%D0%94%D0%BE%D0%BC%D0%B0%D1%88%D0%BD%D1%96%20%D0%B7%D0%B0%D0%B2%D0%B4%D0%B0%D0%BD%D0%BD%D1%8F%20GitHub/projects/React.js%2BNext/08-zustand/lib/api.ts"],"sourcesContent":["import axios from \"axios\";\nimport type { Note } from \"@/types/note\";\nexport const TAGS = [\n  \"Todo\",\n  \"Work\",\n  \"Personal\",\n  \"Meeting\",\n  \"Shopping\",\n] as const;\nexport type Tag = (typeof TAGS)[number];\nconst API_URL = \"https://notehub-public.goit.study/api/notes\";\nconst token = process.env.NEXT_PUBLIC_NOTEHUB_TOKEN;\naxios.defaults.headers.common[\"Authorization\"] = `Bearer ${token}`;\nexport interface FetchNotesResponse {\n  notes: Note[];\n  totalPages: number;\n  currentPage: number;\n}\nexport interface CreateNoteBody {\n  title: string;\n  content: string;\n  tag?: string;\n}\nexport interface UpdateNoteBody {\n  title?: string;\n  content?: string;\n  tag?: string;\n}\nexport type CreateNotePayload = CreateNoteBody;\nexport type UpdateNotePayload = UpdateNoteBody;\nexport async function fetchNotes(params?: {\n  page?: number;\n  perPage?: number;\n  search?: string;\n  tag?: string;\n}): Promise<FetchNotesResponse> {\n  const { page = 1, perPage = 12, search, tag } = params || {};\n  const response = await axios.get<FetchNotesResponse>(API_URL, {\n    params: { page, perPage, ...(search && { search }), ...(tag && { tag }) },\n  });\n  return response.data;\n}\nexport async function fetchNoteById(id: string): Promise<Note> {\n  const response = await axios.get<Note>(`${API_URL}/${id}`);\n  return response.data;\n}\nexport async function createNote(body: CreateNoteBody): Promise<Note> {\n  const response = await axios.post<Note>(API_URL, body);\n  return response.data;\n}\nexport async function updateNote(\n  id: string,\n  body: UpdateNoteBody\n): Promise<Note> {\n  const response = await axios.patch<Note>(`${API_URL}/${id}`, body);\n  return response.data;\n}\nexport async function deleteNote(id: string): Promise<Note> {\n  const response = await axios.delete<Note>(`${API_URL}/${id}`);\n  return response.data;\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;AAAA;;AAEO,MAAM,OAAO;IAClB;IACA;IACA;IACA;IACA;CACD;AAED,MAAM,UAAU;AAChB,MAAM;AACN,gJAAK,CAAC,QAAQ,CAAC,OAAO,CAAC,MAAM,CAAC,gBAAgB,GAAG,CAAC,OAAO,EAAE,OAAO;AAkB3D,eAAe,WAAW,MAKhC;IACC,MAAM,EAAE,OAAO,CAAC,EAAE,UAAU,EAAE,EAAE,MAAM,EAAE,GAAG,EAAE,GAAG,UAAU,CAAC;IAC3D,MAAM,WAAW,MAAM,gJAAK,CAAC,GAAG,CAAqB,SAAS;QAC5D,QAAQ;YAAE;YAAM;YAAS,GAAI,UAAU;gBAAE;YAAO,CAAC;YAAG,GAAI,OAAO;gBAAE;YAAI,CAAC;QAAE;IAC1E;IACA,OAAO,SAAS,IAAI;AACtB;AACO,eAAe,cAAc,EAAU;IAC5C,MAAM,WAAW,MAAM,gJAAK,CAAC,GAAG,CAAO,GAAG,QAAQ,CAAC,EAAE,IAAI;IACzD,OAAO,SAAS,IAAI;AACtB;AACO,eAAe,WAAW,IAAoB;IACnD,MAAM,WAAW,MAAM,gJAAK,CAAC,IAAI,CAAO,SAAS;IACjD,OAAO,SAAS,IAAI;AACtB;AACO,eAAe,WACpB,EAAU,EACV,IAAoB;IAEpB,MAAM,WAAW,MAAM,gJAAK,CAAC,KAAK,CAAO,GAAG,QAAQ,CAAC,EAAE,IAAI,EAAE;IAC7D,OAAO,SAAS,IAAI;AACtB;AACO,eAAe,WAAW,EAAU;IACzC,MAAM,WAAW,MAAM,gJAAK,CAAC,MAAM,CAAO,GAAG,QAAQ,CAAC,EAAE,IAAI;IAC5D,OAAO,SAAS,IAAI;AACtB"}},
    {"offset": {"line": 167, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/components/Modal/Modal.module.css [app-ssr] (css module)"],"sourcesContent":["__turbopack_context__.v({\n  \"backdrop\": \"Modal-module__sR2AWG__backdrop\",\n  \"modal\": \"Modal-module__sR2AWG__modal\",\n});\n"],"names":[],"mappings":"AAAA;AACA;AACA;AACA"}},
    {"offset": {"line": 175, "column": 0}, "map": {"version":3,"sources":["file:///Users/mac/Desktop/%D1%88%D0%BA%D0%BE%D0%BB%D0%B0%20GoIt/%D0%94%D0%BE%D0%BC%D0%B0%D1%88%D0%BD%D1%96%20%D0%B7%D0%B0%D0%B2%D0%B4%D0%B0%D0%BD%D0%BD%D1%8F%20GitHub/projects/React.js%2BNext/08-zustand/components/Modal/Modal.tsx"],"sourcesContent":["'use client';\n\nimport { ReactNode, useEffect } from \"react\";\nimport css from \"./Modal.module.css\";\n\ninterface ModalProps {\n  children: ReactNode;\n  onClose?: () => void;\n}\n\nexport default function Modal({ children, onClose }: ModalProps) {\n  useEffect(() => {\n    const prev = document.body.style.overflow;\n    document.body.style.overflow = \"hidden\";\n    return () => {\n      document.body.style.overflow = prev;\n    };\n  }, []);\n\n  return (\n    <div className={css.backdrop} onClick={() => onClose?.()}>\n      <div className={css.modal} onClick={(e) => e.stopPropagation()}>\n        {children}\n      </div>\n    </div>\n  );\n}"],"names":[],"mappings":";;;;;AAEA;AACA;AAHA;;;;AAUe,SAAS,MAAM,EAAE,QAAQ,EAAE,OAAO,EAAc;IAC7D,IAAA,kNAAS,EAAC;QACR,MAAM,OAAO,SAAS,IAAI,CAAC,KAAK,CAAC,QAAQ;QACzC,SAAS,IAAI,CAAC,KAAK,CAAC,QAAQ,GAAG;QAC/B,OAAO;YACL,SAAS,IAAI,CAAC,KAAK,CAAC,QAAQ,GAAG;QACjC;IACF,GAAG,EAAE;IAEL,qBACE,8OAAC;QAAI,WAAW,mJAAG,CAAC,QAAQ;QAAE,SAAS,IAAM;kBAC3C,cAAA,8OAAC;YAAI,WAAW,mJAAG,CAAC,KAAK;YAAE,SAAS,CAAC,IAAM,EAAE,eAAe;sBACzD;;;;;;;;;;;AAIT"}},
    {"offset": {"line": 215, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/app/@modal/(.)notes/[id]/NotePreview.module.css [app-ssr] (css module)"],"sourcesContent":["__turbopack_context__.v({\n  \"closeButton\": \"NotePreview-module__U-az_a__closeButton\",\n  \"container\": \"NotePreview-module__U-az_a__container\",\n  \"content\": \"NotePreview-module__U-az_a__content\",\n  \"date\": \"NotePreview-module__U-az_a__date\",\n  \"meta\": \"NotePreview-module__U-az_a__meta\",\n  \"tag\": \"NotePreview-module__U-az_a__tag\",\n  \"title\": \"NotePreview-module__U-az_a__title\",\n});\n"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA"}},
    {"offset": {"line": 228, "column": 0}, "map": {"version":3,"sources":["file:///Users/mac/Desktop/%D1%88%D0%BA%D0%BE%D0%BB%D0%B0%20GoIt/%D0%94%D0%BE%D0%BC%D0%B0%D1%88%D0%BD%D1%96%20%D0%B7%D0%B0%D0%B2%D0%B4%D0%B0%D0%BD%D0%BD%D1%8F%20GitHub/projects/React.js%2BNext/08-zustand/app/%40modal/%28.%29notes/%5Bid%5D/NotePreview.client.tsx"],"sourcesContent":["\"use client\";\n\nimport { useRouter } from \"next/navigation\";\nimport { useQuery } from \"@tanstack/react-query\";\nimport { fetchNoteById } from \"@/lib/api\";\nimport Modal from \"@/components/Modal/Modal\";\nimport css from \"./NotePreview.module.css\";\n\ninterface NotePreviewProps {\n  id: string;\n}\n\nexport default function NotePreviewClient({ id }: NotePreviewProps) {\n  const router = useRouter();\n\n  const {\n    data: note,\n    isLoading,\n    error,\n  } = useQuery({\n    queryKey: [\"note\", id],\n    queryFn: () => fetchNoteById(id),\n    refetchOnMount: false,\n  });\n\n  const handleClose = () => {\n    router.back();\n  };\n\n  if (isLoading) {\n    return (\n      <Modal onClose={handleClose}>\n        <p>Loading...</p>\n      </Modal>\n    );\n  }\n\n  if (error || !note) {\n    return (\n      <Modal onClose={handleClose}>\n        <p>Note not found</p>\n      </Modal>\n    );\n  }\n\n  return (\n    <Modal onClose={handleClose}>\n      <div className={css.container}>\n        <div className={css.item}>\n          <div className={css.header}>\n            <h2>{note.title}</h2>\n            {note.tag && <span className={css.tag}>{note.tag}</span>}\n          </div>\n          <p className={css.content}>{note.content}</p>\n          <p className={css.date}>\n            {new Date(note.createdAt).toLocaleDateString()}\n          </p>\n        </div>\n      </div>\n    </Modal>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AACA;AANA;;;;;;;AAYe,SAAS,kBAAkB,EAAE,EAAE,EAAoB;IAChE,MAAM,SAAS,IAAA,+IAAS;IAExB,MAAM,EACJ,MAAM,IAAI,EACV,SAAS,EACT,KAAK,EACN,GAAG,IAAA,uLAAQ,EAAC;QACX,UAAU;YAAC;YAAQ;SAAG;QACtB,SAAS,IAAM,IAAA,2HAAa,EAAC;QAC7B,gBAAgB;IAClB;IAEA,MAAM,cAAc;QAClB,OAAO,IAAI;IACb;IAEA,IAAI,WAAW;QACb,qBACE,8OAAC,wIAAK;YAAC,SAAS;sBACd,cAAA,8OAAC;0BAAE;;;;;;;;;;;IAGT;IAEA,IAAI,SAAS,CAAC,MAAM;QAClB,qBACE,8OAAC,wIAAK;YAAC,SAAS;sBACd,cAAA,8OAAC;0BAAE;;;;;;;;;;;IAGT;IAEA,qBACE,8OAAC,wIAAK;QAAC,SAAS;kBACd,cAAA,8OAAC;YAAI,WAAW,6KAAG,CAAC,SAAS;sBAC3B,cAAA,8OAAC;gBAAI,WAAW,6KAAG,CAAC,IAAI;;kCACtB,8OAAC;wBAAI,WAAW,6KAAG,CAAC,MAAM;;0CACxB,8OAAC;0CAAI,KAAK,KAAK;;;;;;4BACd,KAAK,GAAG,kBAAI,8OAAC;gCAAK,WAAW,6KAAG,CAAC,GAAG;0CAAG,KAAK,GAAG;;;;;;;;;;;;kCAElD,8OAAC;wBAAE,WAAW,6KAAG,CAAC,OAAO;kCAAG,KAAK,OAAO;;;;;;kCACxC,8OAAC;wBAAE,WAAW,6KAAG,CAAC,IAAI;kCACnB,IAAI,KAAK,KAAK,SAAS,EAAE,kBAAkB;;;;;;;;;;;;;;;;;;;;;;AAMxD"}}]
}