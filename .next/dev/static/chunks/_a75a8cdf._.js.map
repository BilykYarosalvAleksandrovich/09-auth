{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/mac/Desktop/%D1%88%D0%BA%D0%BE%D0%BB%D0%B0%20GoIt/%D0%94%D0%BE%D0%BC%D0%B0%D1%88%D0%BD%D1%96%20%D0%B7%D0%B0%D0%B2%D0%B4%D0%B0%D0%BD%D0%BD%D1%8F%20GitHub/projects/React.js%2BNext/08-zustand/lib/store/noteStore.ts"],"sourcesContent":["import { create } from \"zustand\";\nimport { persist } from \"zustand/middleware\";\n\ninterface NoteDraft {\n  title: string;\n  content: string;\n  tag: string;\n}\n\ninterface NoteStore {\n  draft: NoteDraft;\n  setDraft: (note: Partial<NoteDraft>) => void;\n  clearDraft: () => void;\n}\n\nconst initialDraft: NoteDraft = {\n  title: \"\",\n  content: \"\",\n  tag: \"Todo\",\n};\n\nexport const useNoteStore = create<NoteStore>()(\n  persist(\n    (set) => ({\n      draft: initialDraft,\n      setDraft: (updatedFields) =>\n        set((state) => ({\n          draft: { ...state.draft, ...updatedFields },\n        })),\n      clearDraft: () => set({ draft: initialDraft }),\n    }),\n    {\n      name: \"note-creation-draft\",\n    }\n  )\n);\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAcA,MAAM,eAA0B;IAC9B,OAAO;IACP,SAAS;IACT,KAAK;AACP;AAEO,MAAM,eAAe,IAAA,qJAAM,IAChC,IAAA,2JAAO,EACL,CAAC,MAAQ,CAAC;QACR,OAAO;QACP,UAAU,CAAC,gBACT,IAAI,CAAC,QAAU,CAAC;oBACd,OAAO;wBAAE,GAAG,MAAM,KAAK;wBAAE,GAAG,aAAa;oBAAC;gBAC5C,CAAC;QACH,YAAY,IAAM,IAAI;gBAAE,OAAO;YAAa;IAC9C,CAAC,GACD;IACE,MAAM;AACR"}},
    {"offset": {"line": 38, "column": 0}, "map": {"version":3,"sources":["file:///Users/mac/Desktop/%D1%88%D0%BA%D0%BE%D0%BB%D0%B0%20GoIt/%D0%94%D0%BE%D0%BC%D0%B0%D1%88%D0%BD%D1%96%20%D0%B7%D0%B0%D0%B2%D0%B4%D0%B0%D0%BD%D0%BD%D1%8F%20GitHub/projects/React.js%2BNext/08-zustand/lib/api.ts"],"sourcesContent":["import axios from \"axios\";\nimport type { Note } from \"@/types/note\";\nexport const TAGS = [\n  \"Todo\",\n  \"Work\",\n  \"Personal\",\n  \"Meeting\",\n  \"Shopping\",\n] as const;\nexport type Tag = (typeof TAGS)[number];\nconst API_URL = \"https://notehub-public.goit.study/api/notes\";\nconst token = process.env.NEXT_PUBLIC_NOTEHUB_TOKEN;\naxios.defaults.headers.common[\"Authorization\"] = `Bearer ${token}`;\nexport interface FetchNotesResponse {\n  notes: Note[];\n  totalPages: number;\n  currentPage: number;\n}\nexport interface CreateNoteBody {\n  title: string;\n  content: string;\n  tag?: string;\n}\nexport interface UpdateNoteBody {\n  title?: string;\n  content?: string;\n  tag?: string;\n}\nexport type CreateNotePayload = CreateNoteBody;\nexport type UpdateNotePayload = UpdateNoteBody;\nexport async function fetchNotes(params?: {\n  page?: number;\n  perPage?: number;\n  search?: string;\n  tag?: string;\n}): Promise<FetchNotesResponse> {\n  const { page = 1, perPage = 12, search, tag } = params || {};\n  const response = await axios.get<FetchNotesResponse>(API_URL, {\n    params: { page, perPage, ...(search && { search }), ...(tag && { tag }) },\n  });\n  return response.data;\n}\nexport async function fetchNoteById(id: string): Promise<Note> {\n  const response = await axios.get<Note>(`${API_URL}/${id}`);\n  return response.data;\n}\nexport async function createNote(body: CreateNoteBody): Promise<Note> {\n  const response = await axios.post<Note>(API_URL, body);\n  return response.data;\n}\nexport async function updateNote(\n  id: string,\n  body: UpdateNoteBody\n): Promise<Note> {\n  const response = await axios.patch<Note>(`${API_URL}/${id}`, body);\n  return response.data;\n}\nexport async function deleteNote(id: string): Promise<Note> {\n  const response = await axios.delete<Note>(`${API_URL}/${id}`);\n  return response.data;\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;AAWc;AAXd;;AAEO,MAAM,OAAO;IAClB;IACA;IACA;IACA;IACA;CACD;AAED,MAAM,UAAU;AAChB,MAAM;AACN,mJAAK,CAAC,QAAQ,CAAC,OAAO,CAAC,MAAM,CAAC,gBAAgB,GAAG,CAAC,OAAO,EAAE,OAAO;AAkB3D,eAAe,WAAW,MAKhC;IACC,MAAM,EAAE,OAAO,CAAC,EAAE,UAAU,EAAE,EAAE,MAAM,EAAE,GAAG,EAAE,GAAG,UAAU,CAAC;IAC3D,MAAM,WAAW,MAAM,mJAAK,CAAC,GAAG,CAAqB,SAAS;QAC5D,QAAQ;YAAE;YAAM;YAAS,GAAI,UAAU;gBAAE;YAAO,CAAC;YAAG,GAAI,OAAO;gBAAE;YAAI,CAAC;QAAE;IAC1E;IACA,OAAO,SAAS,IAAI;AACtB;AACO,eAAe,cAAc,EAAU;IAC5C,MAAM,WAAW,MAAM,mJAAK,CAAC,GAAG,CAAO,GAAG,QAAQ,CAAC,EAAE,IAAI;IACzD,OAAO,SAAS,IAAI;AACtB;AACO,eAAe,WAAW,IAAoB;IACnD,MAAM,WAAW,MAAM,mJAAK,CAAC,IAAI,CAAO,SAAS;IACjD,OAAO,SAAS,IAAI;AACtB;AACO,eAAe,WACpB,EAAU,EACV,IAAoB;IAEpB,MAAM,WAAW,MAAM,mJAAK,CAAC,KAAK,CAAO,GAAG,QAAQ,CAAC,EAAE,IAAI,EAAE;IAC7D,OAAO,SAAS,IAAI;AACtB;AACO,eAAe,WAAW,EAAU;IACzC,MAAM,WAAW,MAAM,mJAAK,CAAC,MAAM,CAAO,GAAG,QAAQ,CAAC,EAAE,IAAI;IAC5D,OAAO,SAAS,IAAI;AACtB"}},
    {"offset": {"line": 103, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/components/NoteForm/NoteForm.module.css [app-client] (css module)"],"sourcesContent":["__turbopack_context__.v({\n  \"actions\": \"NoteForm-module__XA_SlW__actions\",\n  \"cancelButton\": \"NoteForm-module__XA_SlW__cancelButton\",\n  \"error\": \"NoteForm-module__XA_SlW__error\",\n  \"form\": \"NoteForm-module__XA_SlW__form\",\n  \"formGroup\": \"NoteForm-module__XA_SlW__formGroup\",\n  \"input\": \"NoteForm-module__XA_SlW__input\",\n  \"select\": \"NoteForm-module__XA_SlW__select\",\n  \"submitButton\": \"NoteForm-module__XA_SlW__submitButton\",\n  \"textarea\": \"NoteForm-module__XA_SlW__textarea\",\n});\n"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA"}},
    {"offset": {"line": 118, "column": 0}, "map": {"version":3,"sources":["file:///Users/mac/Desktop/%D1%88%D0%BA%D0%BE%D0%BB%D0%B0%20GoIt/%D0%94%D0%BE%D0%BC%D0%B0%D1%88%D0%BD%D1%96%20%D0%B7%D0%B0%D0%B2%D0%B4%D0%B0%D0%BD%D0%BD%D1%8F%20GitHub/projects/React.js%2BNext/08-zustand/components/NoteForm/NoteForm.tsx"],"sourcesContent":["\"use client\";\n\nimport { useRouter } from \"next/navigation\";\nimport { useMutation, useQueryClient } from \"@tanstack/react-query\";\nimport { useNoteStore } from \"@/lib/store/noteStore\";\nimport { createNote, CreateNoteBody } from \"@/lib/api\";\nimport css from \"./NoteForm.module.css\";\n\nexport default function NoteForm() {\n  const router = useRouter();\n  const queryClient = useQueryClient();\n  const { draft, setDraft, clearDraft } = useNoteStore();\n\n  const mutation = useMutation({\n    mutationFn: createNote,\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: [\"notes\"] });\n      clearDraft();\n      router.back();\n    },\n  });\n\n  const handleChange = (\n    e: React.ChangeEvent<\n      HTMLInputElement | HTMLTextAreaElement | HTMLSelectElement\n    >\n  ) => {\n    const { name, value } = e.target;\n    setDraft({ [name]: value });\n  };\n\n  const handleSubmit = (e: React.FormEvent) => {\n    e.preventDefault();\n    const payload: CreateNoteBody = {\n      title: draft.title,\n      content: draft.content,\n      tag: draft.tag || undefined,\n    };\n    mutation.mutate(payload);\n  };\n\n  const handleCancel = () => {\n    router.back();\n  };\n\n  return (\n    <form className={css.form} onSubmit={handleSubmit}>\n      <div className={css.formGroup}>\n        <label htmlFor=\"title\">Title</label>\n        <input\n          type=\"text\"\n          id=\"title\"\n          name=\"title\"\n          className={css.input}\n          placeholder=\"Enter note title\"\n          value={draft.title}\n          onChange={handleChange}\n          required\n        />\n      </div>\n\n      <div className={css.formGroup}>\n        <label htmlFor=\"content\">Content</label>\n        <textarea\n          id=\"content\"\n          name=\"content\"\n          className={css.textarea}\n          rows={5}\n          placeholder=\"Enter note content\"\n          value={draft.content}\n          onChange={handleChange}\n          required\n        />\n      </div>\n\n      <div className={css.formGroup}>\n        <label htmlFor=\"tag\">Tag (optional)</label>\n        <select\n          id=\"tag\"\n          name=\"tag\"\n          className={css.select}\n          value={draft.tag}\n          onChange={handleChange}\n        >\n          <option value=\"Todo\">Todo</option>\n          <option value=\"Work\">Work</option>\n          <option value=\"Personal\">Personal</option>\n          <option value=\"Meeting\">Meeting</option>\n          <option value=\"Shopping\">Shopping</option>\n        </select>\n      </div>\n\n      <div className={css.actions}>\n        <button\n          type=\"button\"\n          className={css.cancelButton}\n          onClick={handleCancel}\n          disabled={mutation.isPending}\n        >\n          Cancel\n        </button>\n        <button\n          type=\"submit\"\n          className={css.submitButton}\n          disabled={mutation.isPending}\n        >\n          {mutation.isPending ? \"Creating...\" : \"Create Note\"}\n        </button>\n      </div>\n\n      {mutation.isError && (\n        <div className={css.error}>\n          Failed to create note. Please try again.\n        </div>\n      )}\n    </form>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAAA;AACA;AACA;AACA;;;AANA;;;;;;AAQe,SAAS;;IACtB,MAAM,SAAS,IAAA,kJAAS;IACxB,MAAM,cAAc,IAAA,2MAAc;IAClC,MAAM,EAAE,KAAK,EAAE,QAAQ,EAAE,UAAU,EAAE,GAAG,IAAA,4IAAY;IAEpD,MAAM,WAAW,IAAA,gMAAW,EAAC;QAC3B,YAAY,2HAAU;QACtB,SAAS;8CAAE;gBACT,YAAY,iBAAiB,CAAC;oBAAE,UAAU;wBAAC;qBAAQ;gBAAC;gBACpD;gBACA,OAAO,IAAI;YACb;;IACF;IAEA,MAAM,eAAe,CACnB;QAIA,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,EAAE,MAAM;QAChC,SAAS;YAAE,CAAC,KAAK,EAAE;QAAM;IAC3B;IAEA,MAAM,eAAe,CAAC;QACpB,EAAE,cAAc;QAChB,MAAM,UAA0B;YAC9B,OAAO,MAAM,KAAK;YAClB,SAAS,MAAM,OAAO;YACtB,KAAK,MAAM,GAAG,IAAI;QACpB;QACA,SAAS,MAAM,CAAC;IAClB;IAEA,MAAM,eAAe;QACnB,OAAO,IAAI;IACb;IAEA,qBACE,6LAAC;QAAK,WAAW,4JAAG,CAAC,IAAI;QAAE,UAAU;;0BACnC,6LAAC;gBAAI,WAAW,4JAAG,CAAC,SAAS;;kCAC3B,6LAAC;wBAAM,SAAQ;kCAAQ;;;;;;kCACvB,6LAAC;wBACC,MAAK;wBACL,IAAG;wBACH,MAAK;wBACL,WAAW,4JAAG,CAAC,KAAK;wBACpB,aAAY;wBACZ,OAAO,MAAM,KAAK;wBAClB,UAAU;wBACV,QAAQ;;;;;;;;;;;;0BAIZ,6LAAC;gBAAI,WAAW,4JAAG,CAAC,SAAS;;kCAC3B,6LAAC;wBAAM,SAAQ;kCAAU;;;;;;kCACzB,6LAAC;wBACC,IAAG;wBACH,MAAK;wBACL,WAAW,4JAAG,CAAC,QAAQ;wBACvB,MAAM;wBACN,aAAY;wBACZ,OAAO,MAAM,OAAO;wBACpB,UAAU;wBACV,QAAQ;;;;;;;;;;;;0BAIZ,6LAAC;gBAAI,WAAW,4JAAG,CAAC,SAAS;;kCAC3B,6LAAC;wBAAM,SAAQ;kCAAM;;;;;;kCACrB,6LAAC;wBACC,IAAG;wBACH,MAAK;wBACL,WAAW,4JAAG,CAAC,MAAM;wBACrB,OAAO,MAAM,GAAG;wBAChB,UAAU;;0CAEV,6LAAC;gCAAO,OAAM;0CAAO;;;;;;0CACrB,6LAAC;gCAAO,OAAM;0CAAO;;;;;;0CACrB,6LAAC;gCAAO,OAAM;0CAAW;;;;;;0CACzB,6LAAC;gCAAO,OAAM;0CAAU;;;;;;0CACxB,6LAAC;gCAAO,OAAM;0CAAW;;;;;;;;;;;;;;;;;;0BAI7B,6LAAC;gBAAI,WAAW,4JAAG,CAAC,OAAO;;kCACzB,6LAAC;wBACC,MAAK;wBACL,WAAW,4JAAG,CAAC,YAAY;wBAC3B,SAAS;wBACT,UAAU,SAAS,SAAS;kCAC7B;;;;;;kCAGD,6LAAC;wBACC,MAAK;wBACL,WAAW,4JAAG,CAAC,YAAY;wBAC3B,UAAU,SAAS,SAAS;kCAE3B,SAAS,SAAS,GAAG,gBAAgB;;;;;;;;;;;;YAIzC,SAAS,OAAO,kBACf,6LAAC;gBAAI,WAAW,4JAAG,CAAC,KAAK;0BAAE;;;;;;;;;;;;AAMnC;GA7GwB;;QACP,kJAAS;QACJ,2MAAc;QACM,4IAAY;QAEnC,gMAAW;;;KALN"}}]
}