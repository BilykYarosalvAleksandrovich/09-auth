module.exports=[6122,a=>{"use strict";a.i(93505),a.s([])},70025,a=>{"use strict";var b=a.i(72131),c=a.i(12794),d=a.i(18544),e=a.i(33791),f=a.i(42871),g=class extends e.Subscribable{#a;#b=void 0;#c;#d;constructor(a,b){super(),this.#a=a,this.setOptions(b),this.bindMethods(),this.#e()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(a){let b=this.options;this.options=this.#a.defaultMutationOptions(a),(0,f.shallowEqualObjects)(this.options,b)||this.#a.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#c,observer:this}),b?.mutationKey&&this.options.mutationKey&&(0,f.hashKey)(b.mutationKey)!==(0,f.hashKey)(this.options.mutationKey)?this.reset():this.#c?.state.status==="pending"&&this.#c.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#c?.removeObserver(this)}onMutationUpdate(a){this.#e(),this.#f(a)}getCurrentResult(){return this.#b}reset(){this.#c?.removeObserver(this),this.#c=void 0,this.#e(),this.#f()}mutate(a,b){return this.#d=b,this.#c?.removeObserver(this),this.#c=this.#a.getMutationCache().build(this.#a,this.options),this.#c.addObserver(this),this.#c.execute(a)}#e(){let a=this.#c?.state??(0,c.getDefaultState)();this.#b={...a,isPending:"pending"===a.status,isSuccess:"success"===a.status,isError:"error"===a.status,isIdle:"idle"===a.status,mutate:this.mutate,reset:this.reset}}#f(a){d.notifyManager.batch(()=>{if(this.#d&&this.hasListeners()){let b=this.#b.variables,c=this.#b.context,d={client:this.#a,meta:this.options.meta,mutationKey:this.options.mutationKey};a?.type==="success"?(this.#d.onSuccess?.(a.data,b,c,d),this.#d.onSettled?.(a.data,null,b,c,d)):a?.type==="error"&&(this.#d.onError?.(a.error,b,c,d),this.#d.onSettled?.(void 0,a.error,b,c,d))}this.listeners.forEach(a=>{a(this.#b)})})}},h=a.i(37927);function i(a,c){let e=(0,h.useQueryClient)(c),[i]=b.useState(()=>new g(e,a));b.useEffect(()=>{i.setOptions(a)},[i,a]);let j=b.useSyncExternalStore(b.useCallback(a=>i.subscribe(d.notifyManager.batchCalls(a)),[i]),()=>i.getCurrentResult(),()=>i.getCurrentResult()),k=b.useCallback((a,b)=>{i.mutate(a,b).catch(f.noop)},[i]);if(j.error&&(0,f.shouldThrowError)(i.options.throwOnError,[j.error]))throw j.error;return{...j,mutate:k,mutateAsync:j.mutate}}a.s(["useMutation",()=>i],70025)},74870,a=>{a.v({actions:"NoteForm-module__XA_SlW__actions",cancelButton:"NoteForm-module__XA_SlW__cancelButton",error:"NoteForm-module__XA_SlW__error",form:"NoteForm-module__XA_SlW__form",formGroup:"NoteForm-module__XA_SlW__formGroup",input:"NoteForm-module__XA_SlW__input",select:"NoteForm-module__XA_SlW__select",submitButton:"NoteForm-module__XA_SlW__submitButton",textarea:"NoteForm-module__XA_SlW__textarea"})},36429,a=>{"use strict";var b=a.i(87924),c=a.i(50944),d=a.i(70025),e=a.i(37927);let f=(0,a.i(20226).create)(a=>({isLoading:!1,setLoading:b=>a({isLoading:b})}));a.i(6122);var g=a.i(93505),h=a.i(74870);function i(){let a=(0,c.useRouter)(),i=(0,e.useQueryClient)(),{draft:j,setDraft:k,clearDraft:l}=f(),m=(0,d.useMutation)({mutationFn:g.createNote,onSuccess:()=>{i.invalidateQueries({queryKey:["notes"]}),l(),a.back()}}),n=a=>{let{name:b,value:c}=a.target;k({[b]:c})};return(0,b.jsxs)("form",{className:h.default.form,onSubmit:a=>{a.preventDefault();let b={title:j.title,content:j.content,tag:j.tag||void 0};m.mutate(b)},children:[(0,b.jsxs)("div",{className:h.default.formGroup,children:[(0,b.jsx)("label",{htmlFor:"title",children:"Title"}),(0,b.jsx)("input",{type:"text",id:"title",name:"title",className:h.default.input,placeholder:"Enter note title",value:j.title,onChange:n,required:!0})]}),(0,b.jsxs)("div",{className:h.default.formGroup,children:[(0,b.jsx)("label",{htmlFor:"content",children:"Content"}),(0,b.jsx)("textarea",{id:"content",name:"content",className:h.default.textarea,rows:5,placeholder:"Enter note content",value:j.content,onChange:n,required:!0})]}),(0,b.jsxs)("div",{className:h.default.formGroup,children:[(0,b.jsx)("label",{htmlFor:"tag",children:"Tag (optional)"}),(0,b.jsxs)("select",{id:"tag",name:"tag",className:h.default.select,value:j.tag,onChange:n,children:[(0,b.jsx)("option",{value:"Todo",children:"Todo"}),(0,b.jsx)("option",{value:"Work",children:"Work"}),(0,b.jsx)("option",{value:"Personal",children:"Personal"}),(0,b.jsx)("option",{value:"Meeting",children:"Meeting"}),(0,b.jsx)("option",{value:"Shopping",children:"Shopping"})]})]}),(0,b.jsxs)("div",{className:h.default.actions,children:[(0,b.jsx)("button",{type:"button",className:h.default.cancelButton,onClick:()=>{a.back()},disabled:m.isPending,children:"Cancel"}),(0,b.jsx)("button",{type:"submit",className:h.default.submitButton,disabled:m.isPending,children:m.isPending?"Creating...":"Create Note"})]}),m.isError&&(0,b.jsx)("div",{className:h.default.error,children:"Failed to create note. Please try again."})]})}a.s(["default",()=>i],36429)}];

//# sourceMappingURL=_a755edcd._.js.map