{"version":3,"sources":["../../../../node_modules/next/src/server/route-modules/app-page/vendored/ssr/react-dom.ts","../../../../node_modules/next/src/shared/lib/image-external.tsx","../../../../node_modules/next/image.js","../../../../app/%28private%20routers%29/profile/edit/page.tsx"],"sourcesContent":["module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['react-ssr']!.ReactDOM\n","import type { ImageConfigComplete, ImageLoaderProps } from './image-config'\nimport type { ImageProps, ImageLoader, StaticImageData } from './get-img-props'\n\nimport { getImgProps } from './get-img-props'\nimport { Image } from '../../client/image-component'\n\n// This is replaced by webpack alias\nimport defaultLoader from 'next/dist/shared/lib/image-loader'\n\n/**\n * For more advanced use cases, you can call `getImageProps()`\n * to get the props that would be passed to the underlying `<img>` element,\n * and instead pass to them to another component, style, canvas, etc.\n *\n * Read more: [Next.js docs: `getImageProps`](https://nextjs.org/docs/app/api-reference/components/image#getimageprops)\n */\nexport function getImageProps(imgProps: ImageProps) {\n  const { props } = getImgProps(imgProps, {\n    defaultLoader,\n    // This is replaced by webpack define plugin\n    imgConf: process.env.__NEXT_IMAGE_OPTS as any as ImageConfigComplete,\n  })\n  // Normally we don't care about undefined props because we pass to JSX,\n  // but this exported function could be used by the end user for anything\n  // so we delete undefined props to clean it up a little.\n  for (const [key, value] of Object.entries(props)) {\n    if (value === undefined) {\n      delete props[key as keyof typeof props]\n    }\n  }\n  return { props }\n}\n\nexport default Image\n\nexport type { ImageProps, ImageLoaderProps, ImageLoader, StaticImageData }\n","module.exports = require('./dist/shared/lib/image-external')\n","\"use client\";\n\nimport { FormEvent, useEffect, useState } from \"react\";\nimport Image from \"next/image\";\nimport { useRouter } from \"next/navigation\";\nimport css from \"./EditProfile.module.css\";\nimport { getMe, updateMe } from \"@/lib/api/clientApi\";\nimport { useAuthStore } from \"@/lib/store/authStore\";\n\nexport default function EditProfilePage() {\n  const router = useRouter();\n  const { user, setUser } = useAuthStore();\n\n  const [username, setUsername] = useState(\"\");\n\n  useEffect(() => {\n    if (!user) {\n      router.replace(\"/sign-in\");\n      return;\n    }\n\n    setUsername(user.username);\n  }, [user, router]);\n\n  const handleSubmit = async (e: FormEvent) => {\n    e.preventDefault();\n\n    try {\n      const updatedUser = await updateMe({ username });\n      setUser(updatedUser);\n      router.push(\"/profile\");\n    } catch {\n      alert(\"Failed to update profile\");\n    }\n  };\n\n  if (!user) return null;\n\n  return (\n    <main className={css.mainContent}>\n      <div className={css.profileCard}>\n        <h1 className={css.formTitle}>Edit Profile</h1>\n\n        <Image\n          src={user.avatar}\n          alt=\"User Avatar\"\n          width={120}\n          height={120}\n          className={css.avatar}\n        />\n\n        <form className={css.profileInfo} onSubmit={handleSubmit}>\n          <div className={css.usernameWrapper}>\n            <label htmlFor=\"username\">Username:</label>\n            <input\n              id=\"username\"\n              type=\"text\"\n              value={username}\n              onChange={(e) => setUsername(e.target.value)}\n              className={css.input}\n              required\n            />\n          </div>\n\n          <p>Email: {user.email}</p>\n\n          <div className={css.actions}>\n            <button type=\"submit\" className={css.saveButton}>\n              Save\n            </button>\n\n            <button\n              type=\"button\"\n              className={css.cancelButton}\n              onClick={() => router.push(\"/profile\")}\n            >\n              Cancel\n            </button>\n          </div>\n        </form>\n      </div>\n    </main>\n  );\n}\n"],"names":["module","exports","require","vendored","ReactDOM","getImageProps","imgProps","props","getImgProps","defaultLoader","imgConf","process","env","__NEXT_IMAGE_OPTS","key","value","Object","entries","undefined","Image"],"mappings":"6CAAAA,EAAOC,OAAO,CACZC,EAAQ,CAAA,CAAA,IAAA,GACRC,QAAQ,CAAC,YAAY,CAAEC,QAAQ,uFC+BjC,OAAoB,CAAA,kBAApB,GAjBgBC,aAAa,CAAA,kBAAbA,4FAbY,CAAA,CAAA,IAAA,OACN,CAAA,CAAA,IAAA,WAGI,CAAA,CAAA,IAAA,GASnB,SAASA,EAAcC,CAAoB,EAChD,GAAM,OAAEC,CAAK,CAAE,CAAGC,CAAAA,EAAAA,EAAAA,WAAAA,AAAW,EAACF,EAAU,CACtCG,cAAAA,EAAAA,OAAa,CAEbC,OAAAA,CAAsC,CAA7BC,QAAQC,GAAG,CAACC,iBAAiB,qJACxC,GAIA,IAAK,GAAM,CAACC,EAAKC,EAAM,GAAIC,OAAOC,OAAO,CAACV,OAAQ,CAClCW,IAAVH,GACF,IADuB,GAChBR,CAAK,CAACO,EAA0B,CAG3C,MAAO,OAAEP,CAAM,CACjB,KAEA,EAAeY,EAAAA,KAAK,kBCjCpB,EAAO,OAAO,CAAA,EAAA,CAAA,CAAA,yCCEd,EAAA,CAAA,CAAA,OACA,EAAA,CAAA,CAAA,OACA,EAAA,CAAA,CAAA","ignoreList":[0,1,2]}